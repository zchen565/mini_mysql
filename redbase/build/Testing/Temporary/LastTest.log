Start testing: Oct 01 21:32 EDT
----------------------------------------------------------
1/9 Testing: IxTest.basic
1/9 Test: IxTest.basic
Command: "/home/zihao/redbase-cpp/build/bin/ix_test" "--gtest_filter=IxTest.basic" "--gtest_also_run_disabled_tests"
Directory: /home/zihao/redbase-cpp/build/src
"IxTest.basic" start time: Oct 01 21:32 EDT
Output:
----------------------------------------------------------
Running main() from /home/zihao/redbase-cpp/build/_deps/googletest-src/googletest/src/gtest_main.cc
Note: Google Test filter = IxTest.basic
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from IxTest
[ RUN      ] IxTest.basic
Insert 1000
delete 1000
Insert 620
Delete 380
Insert 62247
Delete 37753
[       OK ] IxTest.basic (9162 ms)
[----------] 1 test from IxTest (9162 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (9162 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =   9.17 sec
----------------------------------------------------------
Test Passed.
"IxTest.basic" end time: Oct 01 21:32 EDT
"IxTest.basic" time elapsed: 00:00:09
----------------------------------------------------------

2/9 Testing: parser.basic
2/9 Test: parser.basic
Command: "/home/zihao/redbase-cpp/build/bin/parser_test" "--gtest_filter=parser.basic" "--gtest_also_run_disabled_tests"
Directory: /home/zihao/redbase-cpp/build/src
"parser.basic" start time: Oct 01 21:32 EDT
Output:
----------------------------------------------------------
Running main() from /home/zihao/redbase-cpp/build/_deps/googletest-src/googletest/src/gtest_main.cc
Note: Google Test filter = parser.basic
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from parser
[ RUN      ] parser.basic
show tables;
SHOW_TABLES

desc tb;
DESC_TABLE
  tb

create table tb (a int, b float, c char(4));
CREATE_TABLE
  tb
  LIST
    COL_DEF
      a
      TYPE_LEN
        INT
        4
    COL_DEF
      b
      TYPE_LEN
        FLOAT
        4
    COL_DEF
      c
      TYPE_LEN
        STRING
        4

drop table tb;
DROP_TABLE
  tb

create index tb(a);
CREATE_INDEX
  tb
  a

drop index tb(b);
DROP_INDEX
  tb
  b

insert into tb values (1, 3.14, 'pi');
INSERT
  tb
  LIST
    INT_LIT
      1
    FLOAT_LIT
      3.14
    STRING_LIT
      pi

delete from tb where a = 1;
DELETE
  tb
  LIST
    BINARY_EXPR
      COL
        
        a
      ==
      INT_LIT
        1

update tb set a = 1, b = 2.2, c = 'xyz' where x = 2 and y < 1.1 and z > 'abc';
UPDATE
  tb
  LIST
    SET_CLAUSE
      a
      INT_LIT
        1
    SET_CLAUSE
      b
      FLOAT_LIT
        2.2
    SET_CLAUSE
      c
      STRING_LIT
        xyz
  LIST
    BINARY_EXPR
      COL
        
        x
      ==
      INT_LIT
        2
    BINARY_EXPR
      COL
        
        y
      <
      FLOAT_LIT
        1.1
    BINARY_EXPR
      COL
        
        z
      >
      STRING_LIT
        abc

select * from tb;
SELECT
  LIST
  LIST
    tb
  LIST

select * from tb where x <> 2 and y >= 3. and z <= '123' and b < tb.a;
SELECT
  LIST
  LIST
    tb
  LIST
    BINARY_EXPR
      COL
        
        x
      !=
      INT_LIT
        2
    BINARY_EXPR
      COL
        
        y
      >=
      FLOAT_LIT
        3
    BINARY_EXPR
      COL
        
        z
      <=
      STRING_LIT
        123
    BINARY_EXPR
      COL
        
        b
      <
      COL
        tb
        a

select x.a, y.b from x, y where x.a = y.b and c = d;
SELECT
  LIST
    COL
      x
      a
    COL
      y
      b
  LIST
    x
    y
  LIST
    BINARY_EXPR
      COL
        x
        a
      ==
      COL
        y
        b
    BINARY_EXPR
      COL
        
        c
      ==
      COL
        
        d

exit;
exit/EOF
help;
HELP


exit/EOF
[       OK ] parser.basic (1 ms)
[----------] 1 test from parser (1 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (1 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =   0.00 sec
----------------------------------------------------------
Test Passed.
"parser.basic" end time: Oct 01 21:32 EDT
"parser.basic" time elapsed: 00:00:00
----------------------------------------------------------

3/9 Testing: PfManagerTest.basic
3/9 Test: PfManagerTest.basic
Command: "/home/zihao/redbase-cpp/build/bin/pf_test" "--gtest_filter=PfManagerTest.basic" "--gtest_also_run_disabled_tests"
Directory: /home/zihao/redbase-cpp/build/src
"PfManagerTest.basic" start time: Oct 01 21:32 EDT
Output:
----------------------------------------------------------
Running main() from /home/zihao/redbase-cpp/build/_deps/googletest-src/googletest/src/gtest_main.cc
Note: Google Test filter = PfManagerTest.basic
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from PfManagerTest
[ RUN      ] PfManagerTest.basic
[       OK ] PfManagerTest.basic (0 ms)
[----------] 1 test from PfManagerTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Passed.
"PfManagerTest.basic" end time: Oct 01 21:32 EDT
"PfManagerTest.basic" time elapsed: 00:00:00
----------------------------------------------------------

4/9 Testing: PfPagerTest.lru
4/9 Test: PfPagerTest.lru
Command: "/home/zihao/redbase-cpp/build/bin/pf_test" "--gtest_filter=PfPagerTest.lru" "--gtest_also_run_disabled_tests"
Directory: /home/zihao/redbase-cpp/build/src
"PfPagerTest.lru" start time: Oct 01 21:32 EDT
Output:
----------------------------------------------------------
Running main() from /home/zihao/redbase-cpp/build/_deps/googletest-src/googletest/src/gtest_main.cc
Note: Google Test filter = PfPagerTest.lru
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from PfPagerTest
[ RUN      ] PfPagerTest.lru
[       OK ] PfPagerTest.lru (17632 ms)
[----------] 1 test from PfPagerTest (17632 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (17632 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =  17.64 sec
----------------------------------------------------------
Test Passed.
"PfPagerTest.lru" end time: Oct 01 21:32 EDT
"PfPagerTest.lru" time elapsed: 00:00:17
----------------------------------------------------------

5/9 Testing: PfPagerTest.readwrite
5/9 Test: PfPagerTest.readwrite
Command: "/home/zihao/redbase-cpp/build/bin/pf_test" "--gtest_filter=PfPagerTest.readwrite" "--gtest_also_run_disabled_tests"
Directory: /home/zihao/redbase-cpp/build/src
"PfPagerTest.readwrite" start time: Oct 01 21:32 EDT
Output:
----------------------------------------------------------
Running main() from /home/zihao/redbase-cpp/build/_deps/googletest-src/googletest/src/gtest_main.cc
Note: Google Test filter = PfPagerTest.readwrite
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from PfPagerTest
[ RUN      ] PfPagerTest.readwrite
[       OK ] PfPagerTest.readwrite (11334 ms)
[----------] 1 test from PfPagerTest (11335 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (11335 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =  11.34 sec
----------------------------------------------------------
Test Passed.
"PfPagerTest.readwrite" end time: Oct 01 21:32 EDT
"PfPagerTest.readwrite" time elapsed: 00:00:11
----------------------------------------------------------

6/9 Testing: ql.basic
6/9 Test: ql.basic
Command: "/home/zihao/redbase-cpp/build/bin/ql_test" "--gtest_filter=ql.basic" "--gtest_also_run_disabled_tests"
Directory: /home/zihao/redbase-cpp/build/src
"ql.basic" start time: Oct 01 21:32 EDT
Output:
----------------------------------------------------------
Running main() from /home/zihao/redbase-cpp/build/_deps/googletest-src/googletest/src/gtest_main.cc
Note: Google Test filter = ql.basic
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from ql
[ RUN      ] ql.basic
create table tb1(s int, a int, b float, c char(16));
create table tb2(x int, y float, z char(16), s int);
create index tb1(s);
show tables;
+------------------+
|           Tables |
+------------------+
|              tb1 |
|              tb2 |
+------------------+
desc tb1;
+------------------+------------------+------------------+
|            Field |             Type |            Index |
+------------------+------------------+------------------+
|                s |              INT |              YES |
|                a |              INT |               NO |
|                b |            FLOAT |               NO |
|                c |           STRING |               NO |
+------------------+------------------+------------------+
select * from tb1;
+------------------+------------------+------------------+------------------+
|                s |                a |                b |                c |
+------------------+------------------+------------------+------------------+
+------------------+------------------+------------------+------------------+
Total record(s): 0
insert into tb1 values (0, 1, 1.1, 'abc');
insert into tb1 values (2, 2, 2.2, 'def');
insert into tb1 values (5, 3, 2.2, 'xyz');
insert into tb1 values (4, 4, 2.2, '0123456789abcdef');
insert into tb1 values (2, 5, -1.11, '');
insert into tb2 values (1, 2., '123', 0);
insert into tb2 values (2, 3., '456', 1);
insert into tb2 values (3, 1., '789', 2);
select * from tb1, tb2;
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                s |                a |                b |                c |                x |                y |                z |                s |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                0 |                1 |         1.100000 |              abc |                1 |         2.000000 |              123 |                0 |
|                0 |                1 |         1.100000 |              abc |                2 |         3.000000 |              456 |                1 |
|                0 |                1 |         1.100000 |              abc |                3 |         1.000000 |              789 |                2 |
|                2 |                2 |         2.200000 |              def |                1 |         2.000000 |              123 |                0 |
|                2 |                2 |         2.200000 |              def |                2 |         3.000000 |              456 |                1 |
|                2 |                2 |         2.200000 |              def |                3 |         1.000000 |              789 |                2 |
|                5 |                3 |         2.200000 |              xyz |                1 |         2.000000 |              123 |                0 |
|                5 |                3 |         2.200000 |              xyz |                2 |         3.000000 |              456 |                1 |
|                5 |                3 |         2.200000 |              xyz |                3 |         1.000000 |              789 |                2 |
|                4 |                4 |         2.200000 | 0123456789abcdef |                1 |         2.000000 |              123 |                0 |
|                4 |                4 |         2.200000 | 0123456789abcdef |                2 |         3.000000 |              456 |                1 |
|                4 |                4 |         2.200000 | 0123456789abcdef |                3 |         1.000000 |              789 |                2 |
|                2 |                5 |        -1.110000 |                  |                1 |         2.000000 |              123 |                0 |
|                2 |                5 |        -1.110000 |                  |                2 |         3.000000 |              456 |                1 |
|                2 |                5 |        -1.110000 |                  |                3 |         1.000000 |              789 |                2 |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
Total record(s): 15
select * from tb1, tb2 where tb1.s = tb2.s;
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                s |                a |                b |                c |                x |                y |                z |                s |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                0 |                1 |         1.100000 |              abc |                1 |         2.000000 |              123 |                0 |
|                2 |                2 |         2.200000 |              def |                3 |         1.000000 |              789 |                2 |
|                2 |                5 |        -1.110000 |                  |                3 |         1.000000 |              789 |                2 |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
Total record(s): 3
create index tb2(s);
select * from tb1, tb2;
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                s |                a |                b |                c |                x |                y |                z |                s |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                0 |                1 |         1.100000 |              abc |                1 |         2.000000 |              123 |                0 |
|                0 |                1 |         1.100000 |              abc |                2 |         3.000000 |              456 |                1 |
|                0 |                1 |         1.100000 |              abc |                3 |         1.000000 |              789 |                2 |
|                2 |                2 |         2.200000 |              def |                1 |         2.000000 |              123 |                0 |
|                2 |                2 |         2.200000 |              def |                2 |         3.000000 |              456 |                1 |
|                2 |                2 |         2.200000 |              def |                3 |         1.000000 |              789 |                2 |
|                5 |                3 |         2.200000 |              xyz |                1 |         2.000000 |              123 |                0 |
|                5 |                3 |         2.200000 |              xyz |                2 |         3.000000 |              456 |                1 |
|                5 |                3 |         2.200000 |              xyz |                3 |         1.000000 |              789 |                2 |
|                4 |                4 |         2.200000 | 0123456789abcdef |                1 |         2.000000 |              123 |                0 |
|                4 |                4 |         2.200000 | 0123456789abcdef |                2 |         3.000000 |              456 |                1 |
|                4 |                4 |         2.200000 | 0123456789abcdef |                3 |         1.000000 |              789 |                2 |
|                2 |                5 |        -1.110000 |                  |                1 |         2.000000 |              123 |                0 |
|                2 |                5 |        -1.110000 |                  |                2 |         3.000000 |              456 |                1 |
|                2 |                5 |        -1.110000 |                  |                3 |         1.000000 |              789 |                2 |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
Total record(s): 15
select * from tb1, tb2 where tb1.s = tb2.s;
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                s |                a |                b |                c |                x |                y |                z |                s |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                0 |                1 |         1.100000 |              abc |                1 |         2.000000 |              123 |                0 |
|                2 |                2 |         2.200000 |              def |                3 |         1.000000 |              789 |                2 |
|                2 |                5 |        -1.110000 |                  |                3 |         1.000000 |              789 |                2 |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
Total record(s): 3
drop index tb2(s);
insert into tb1 values (0, 1, 2., 100);
insert into tb1 values (0, 1, 2., 'abc', 1);
insert into oops values (1, 2);
create table tb1 (a int, b float);
create index tb1(oops);
create index tb1(s);
drop index tb1(a);
insert into tb1 values (0, 1, 2., '0123456789abcdefg');
select x from tb1;
select s from tb1, tb2;
select * from tb1, tb2 where s = 1;
select * from tb1 where s = 'oops';
select * from tb1;
+------------------+------------------+------------------+------------------+
|                s |                a |                b |                c |
+------------------+------------------+------------------+------------------+
|                0 |                1 |         1.100000 |              abc |
|                2 |                2 |         2.200000 |              def |
|                5 |                3 |         2.200000 |              xyz |
|                4 |                4 |         2.200000 | 0123456789abcdef |
|                2 |                5 |        -1.110000 |                  |
+------------------+------------------+------------------+------------------+
Total record(s): 5
select * from tb2;
+------------------+------------------+------------------+------------------+
|                x |                y |                z |                s |
+------------------+------------------+------------------+------------------+
|                1 |         2.000000 |              123 |                0 |
|                2 |         3.000000 |              456 |                1 |
|                3 |         1.000000 |              789 |                2 |
+------------------+------------------+------------------+------------------+
Total record(s): 3
select * from tb1, tb2;
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                s |                a |                b |                c |                x |                y |                z |                s |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
|                0 |                1 |         1.100000 |              abc |                1 |         2.000000 |              123 |                0 |
|                0 |                1 |         1.100000 |              abc |                2 |         3.000000 |              456 |                1 |
|                0 |                1 |         1.100000 |              abc |                3 |         1.000000 |              789 |                2 |
|                2 |                2 |         2.200000 |              def |                1 |         2.000000 |              123 |                0 |
|                2 |                2 |         2.200000 |              def |                2 |         3.000000 |              456 |                1 |
|                2 |                2 |         2.200000 |              def |                3 |         1.000000 |              789 |                2 |
|                5 |                3 |         2.200000 |              xyz |                1 |         2.000000 |              123 |                0 |
|                5 |                3 |         2.200000 |              xyz |                2 |         3.000000 |              456 |                1 |
|                5 |                3 |         2.200000 |              xyz |                3 |         1.000000 |              789 |                2 |
|                4 |                4 |         2.200000 | 0123456789abcdef |                1 |         2.000000 |              123 |                0 |
|                4 |                4 |         2.200000 | 0123456789abcdef |                2 |         3.000000 |              456 |                1 |
|                4 |                4 |         2.200000 | 0123456789abcdef |                3 |         1.000000 |              789 |                2 |
|                2 |                5 |        -1.110000 |                  |                1 |         2.000000 |              123 |                0 |
|                2 |                5 |        -1.110000 |                  |                2 |         3.000000 |              456 |                1 |
|                2 |                5 |        -1.110000 |                  |                3 |         1.000000 |              789 |                2 |
+------------------+------------------+------------------+------------------+------------------+------------------+------------------+------------------+
Total record(s): 15
[       OK ] ql.basic (6 ms)
[----------] 1 test from ql (6 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (6 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Passed.
"ql.basic" end time: Oct 01 21:32 EDT
"ql.basic" time elapsed: 00:00:00
----------------------------------------------------------

7/9 Testing: Bitmap.basic
7/9 Test: Bitmap.basic
Command: "/home/zihao/redbase-cpp/build/bin/bitmap_test" "--gtest_filter=Bitmap.basic" "--gtest_also_run_disabled_tests"
Directory: /home/zihao/redbase-cpp/build/src
"Bitmap.basic" start time: Oct 01 21:32 EDT
Output:
----------------------------------------------------------
Running main() from /home/zihao/redbase-cpp/build/_deps/googletest-src/googletest/src/gtest_main.cc
Note: Google Test filter = Bitmap.basic
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from Bitmap
[ RUN      ] Bitmap.basic
[       OK ] Bitmap.basic (1799 ms)
[----------] 1 test from Bitmap (1799 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (1799 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =   1.80 sec
----------------------------------------------------------
Test Passed.
"Bitmap.basic" end time: Oct 01 21:32 EDT
"Bitmap.basic" time elapsed: 00:00:01
----------------------------------------------------------

8/9 Testing: rm.basic
8/9 Test: rm.basic
Command: "/home/zihao/redbase-cpp/build/bin/rm_test" "--gtest_filter=rm.basic" "--gtest_also_run_disabled_tests"
Directory: /home/zihao/redbase-cpp/build/src
"rm.basic" start time: Oct 01 21:32 EDT
Output:
----------------------------------------------------------
Running main() from /home/zihao/redbase-cpp/build/_deps/googletest-src/googletest/src/gtest_main.cc
Note: Google Test filter = rm.basic
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from rm
[ RUN      ] rm.basic
insert 4435
delete 2771
update 2794
[       OK ] rm.basic (13047 ms)
[----------] 1 test from rm (13047 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (13047 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =  13.05 sec
----------------------------------------------------------
Test Passed.
"rm.basic" end time: Oct 01 21:32 EDT
"rm.basic" time elapsed: 00:00:13
----------------------------------------------------------

9/9 Testing: sm.basic
9/9 Test: sm.basic
Command: "/home/zihao/redbase-cpp/build/bin/sm_test" "--gtest_filter=sm.basic" "--gtest_also_run_disabled_tests"
Directory: /home/zihao/redbase-cpp/build/src
"sm.basic" start time: Oct 01 21:32 EDT
Output:
----------------------------------------------------------
Running main() from /home/zihao/redbase-cpp/build/_deps/googletest-src/googletest/src/gtest_main.cc
Note: Google Test filter = sm.basic
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from sm
[ RUN      ] sm.basic
[       OK ] sm.basic (7 ms)
[----------] 1 test from sm (7 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (7 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Passed.
"sm.basic" end time: Oct 01 21:32 EDT
"sm.basic" time elapsed: 00:00:00
----------------------------------------------------------

End testing: Oct 01 21:32 EDT
